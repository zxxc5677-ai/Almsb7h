<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ù…Ø³Ø¨Ø­Ø© Ø§Ù„Ø°ÙƒÙŠØ© - Tasbih App</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #1e3c72;
            --secondary-color: #2a5298;
            --accent-color: #4CAF50;
            --danger-color: #f44336;
            --text-light: #f0f0f0;
            --text-dark: #333;
            --bg-light: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            --bg-dark: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
            --card-light: rgba(255, 255, 255, 0.85);
            --card-dark: rgba(30, 30, 46, 0.7);
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--bg-light);
            color: var(--text-dark);
            min-height: 100vh;
            transition: var(--transition);
            background-attachment: fixed;
            padding-bottom: 80px;
        }

        body.dark-mode {
            background: var(--bg-dark);
            color: var(--text-light);
        }

        body.english {
            direction: ltr;
            text-align: left;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© */
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: var(--card-light);
            border-radius: 15px;
            box-shadow: var(--shadow);
            backdrop-filter: blur(10px);
            transition: var(--transition);
        }

        body.dark-mode header {
            background: var(--card-dark);
        }

        h1 {
            color: var(--primary-color);
            margin-bottom: 10px;
            font-size: 2em;
        }

        body.dark-mode h1 {
            color: var(--text-light);
        }

        /* Ø§Ù„Ø£Ù‚Ø³Ø§Ù… */
        .content-section {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .content-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Ù‚Ø³Ù… Ø§Ù„Ù…Ø³Ø¨Ø­Ø© */
        .tasbih-container {
            text-align: center;
            padding: 30px;
            background: var(--card-light);
            border-radius: 20px;
            box-shadow: var(--shadow);
            backdrop-filter: blur(10px);
            max-width: 600px;
            margin: 0 auto;
        }

        body.dark-mode .tasbih-container {
            background: var(--card-dark);
        }

        .tasbih-selector {
            margin-bottom: 25px;
        }

        .tasbih-selector label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
            font-size: 1.1em;
            color: var(--primary-color);
        }

        body.dark-mode .tasbih-selector label {
            color: var(--text-light);
        }

        .tasbih-selector select {
            padding: 12px 25px;
            font-size: 1.2em;
            border-radius: 25px;
            border: 2px solid var(--primary-color);
            background: var(--card-light);
            color: var(--text-dark);
            cursor: pointer;
            transition: var(--transition);
            width: 100%;
            max-width: 300px;
        }

        body.dark-mode .tasbih-selector select {
            background: var(--card-dark);
            color: var(--text-light);
        }

        /* Ø§Ù„Ø²Ø± Ø§Ù„Ø¯Ø§Ø¦Ø±ÙŠ */
        .tasbih-circle-wrapper {
            margin: 25px 0;
            display: flex;
            justify-content: center;
        }

        .tasbih-btn {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: var(--primary-color);
            color: white;
            border: none;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--shadow);
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .tasbih-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.2);
        }

        .tasbih-btn:active {
            transform: scale(0.95);
        }

        .tasbih-number {
            font-size: 3.5em;
            font-weight: bold;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: white;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            pointer-events: none;
            transition: var(--transition);
        }

        /* Ù…Ø¤Ø´Ø± Ø§Ù„ØµÙˆØª */
        .voice-indicator {
            margin: 20px 0;
            padding: 15px 25px;
            background: rgba(0, 0, 0, 0.05);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            font-size: 1em;
            transition: var(--transition);
            min-height: 60px;
        }

        body.dark-mode .voice-indicator {
            background: rgba(255, 255, 255, 0.05);
        }

        .voice-indicator.listening {
            background: rgba(76, 175, 80, 0.2);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… */
        .tasbih-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 25px;
            flex-wrap: wrap;
        }

        .control-btn {
            background: var(--accent-color);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: bold;
            box-shadow: var(--shadow);
        }

        .control-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .control-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .control-btn.danger {
            background: var(--danger-color);
        }

        .control-btn.danger:hover {
            background: #d32f2f;
        }

        /* Ø¹Ø±Ø¶ Ø¢Ø®Ø± Ø°ÙƒØ± */
        .last-detected {
            margin-top: 20px;
            padding: 12px;
            background: rgba(0, 0, 0, 0.03);
            border-radius: 10px;
            font-size: 0.9em;
            color: var(--text-dark);
            min-height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-left: 4px solid var(--accent-color);
        }

        body.dark-mode .last-detected {
            background: rgba(255, 255, 255, 0.03);
            color: var(--text-light);
        }

        /* Ù‚Ø³Ù… Ø£Ø°ÙƒØ§Ø±ÙŠ */
        .my-azkar-container {
            background: var(--card-light);
            border-radius: 20px;
            padding: 30px;
            box-shadow: var(--shadow);
            backdrop-filter: blur(10px);
            max-width: 900px;
            margin: 0 auto;
        }

        body.dark-mode .my-azkar-container {
            background: var(--card-dark);
        }

        .my-azkar-header {
            text-align: center;
            margin-bottom: 25px;
        }

        .my-azkar-header h2 {
            color: var(--primary-color);
            font-size: 1.8em;
            margin-bottom: 10px;
        }

        .my-azkar-header p {
            color: var(--text-dark);
            font-size: 0.95em;
            opacity: 0.8;
        }

        body.dark-mode .my-azkar-header p {
            color: var(--text-light);
        }

        .add-zekr-form {
            background: rgba(0, 0, 0, 0.05);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 25px;
        }

        body.dark-mode .add-zekr-form {
            background: rgba(255, 255, 255, 0.05);
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: var(--primary-color);
        }

        body.dark-mode .form-group label {
            color: var(--text-light);
        }

        .form-group input, .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--primary-color);
            border-radius: 10px;
            background: var(--card-light);
            color: var(--text-dark);
            font-size: 1em;
            transition: var(--transition);
        }

        body.dark-mode .form-group input,
        body.dark-mode .form-group textarea {
            background: var(--card-dark);
            color: var(--text-light);
        }

        .form-group input:focus, .form-group textarea:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(30, 60, 114, 0.3);
        }

        .add-btn {
            background: var(--accent-color);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: var(--transition);
        }

        .add-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .my-azkar-list {
            margin-top: 25px;
        }

        .zekr-item {
            background: var(--card-light);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            box-shadow: var(--shadow);
            position: relative;
            transition: var(--transition);
        }

        body.dark-mode .zekr-item {
            background: var(--card-dark);
        }

        .zekr-item:hover {
            transform: translateX(-5px);
        }

        .zekr-text {
            font-size: 1.1em;
            line-height: 1.6;
            margin-bottom: 8px;
            color: var(--text-dark);
        }

        body.dark-mode .zekr-text {
            color: var(--text-light);
        }

        .zekr-date {
            font-size: 0.8em;
            color: #666;
            font-style: italic;
        }

        body.dark-mode .zekr-date {
            color: #aaa;
        }

        .delete-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--danger-color);
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.8em;
        }

        .empty-message {
            text-align: center;
            padding: 40px;
            color: var(--text-dark);
            opacity: 0.6;
        }

        body.dark-mode .empty-message {
            color: var(--text-light);
        }

        /* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø³ÙÙ„ÙŠ */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--card-light);
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            z-index: 1000;
            transition: var(--transition);
        }

        body.dark-mode .bottom-nav {
            background: var(--card-dark);
        }

        body.english .bottom-nav {
            direction: ltr;
        }

        .nav-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 8px;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            background: none;
            color: var(--text-dark);
        }

        body.dark-mode .nav-item {
            color: var(--text-light);
        }

        .nav-item.active {
            color: var(--accent-color);
            transform: translateY(-5px);
        }

        .nav-item span:first-child {
            font-size: 1.5em;
            margin-bottom: 5px;
        }

        .nav-item span:last-child {
            font-size: 0.75em;
            font-weight: bold;
        }

        /* Ø²Ø± ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù„ØºØ© */
        .language-toggle {
            position: absolute;
            right: 20px;
            top: 20px;
            background: var(--accent-color);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            transition: var(--transition);
            box-shadow: var(--shadow);
        }

        .language-toggle:hover {
            transform: scale(1.05);
        }

        /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
        @media (max-width: 768px) {
            .tasbih-container {
                padding: 20px;
            }

            .tasbih-btn {
                width: 180px;
                height: 180px;
            }
            
            .tasbih-number {
                font-size: 3em;
            }
            
            h1 {
                font-size: 1.8em;
            }

            .language-toggle {
                right: 10px;
                top: 10px;
                padding: 8px 12px;
                font-size: 12px;
            }
        }

        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <!-- Ø²Ø± ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù„ØºØ© -->
    <button class="language-toggle" onclick="toggleLanguage()">ğŸ‡ºğŸ‡¸ EN</button>

    <div class="container">
        <!-- Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© -->
        <header>
            <h1 data-ar="ğŸ“¿ Ø§Ù„Ù…Ø³Ø¨Ø­Ø© Ø§Ù„Ø°ÙƒÙŠØ©" data-en="ğŸ“¿ Smart Tasbih">ğŸ“¿ Ø§Ù„Ù…Ø³Ø¨Ø­Ø© Ø§Ù„Ø°ÙƒÙŠØ©</h1>
            <p data-ar="Ø§Ù„ØªØ³Ø¨ÙŠØ­ Ø¨Ø§Ù„Ù„Ù…Ø³ Ø£Ùˆ Ø§Ù„ØµÙˆØª - Ø§Ù„ØªØ¹Ø±Ù Ø§Ù„Ø°ÙƒÙŠ" data-en="Tap or Voice Tasbih - Smart Recognition">Ø§Ù„ØªØ³Ø¨ÙŠØ­ Ø¨Ø§Ù„Ù„Ù…Ø³ Ø£Ùˆ Ø§Ù„ØµÙˆØª - Ø§Ù„ØªØ¹Ø±Ù Ø§Ù„Ø°ÙƒÙŠ</p>
        </header>

        <!-- Ù‚Ø³Ù… Ø§Ù„Ù…Ø³Ø¨Ø­Ø© -->
        <div id="tasbih-section" class="content-section active">
            <div class="tasbih-container">
                <!-- Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø°ÙƒØ± -->
                <div class="tasbih-selector">
                    <label data-ar="Ø§Ø®ØªØ± Ø§Ù„Ø°ÙƒØ±:" data-en="Select Dhikr:">Ø§Ø®ØªØ± Ø§Ù„Ø°ÙƒØ±:</label>
                    <select id="tasbihSelect" onchange="updateCurrentTasbih()">
                        <option value="Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡" data-ar="Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡" data-en="Subhan Allah">Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡</option>
                        <option value="Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡" data-ar="Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡" data-en="Alhamdulillah">Ø§Ù„Ø­Ù…Ø¯ Ø§Ù„Ù„Ù‡</option>
                        <option value="Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡" data-ar="Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡" data-en="La ilaha illa Allah">Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡</option>
                        <option value="Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø±" data-ar="Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø±" data-en="Allahu Akbar">Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø±</option>
                        <option value="Ù„Ø§ Ø­ÙˆÙ„ ÙˆÙ„Ø§ Ù‚ÙˆØ© Ø¥Ù„Ø§ Ø¨Ø§Ù„Ù„Ù‡" data-ar="Ù„Ø§ Ø­ÙˆÙ„ ÙˆÙ„Ø§ Ù‚ÙˆØ© Ø¥Ù„Ø§ Ø¨Ø§Ù„Ù„Ù‡" data-en="La hawla wa la quwwata illa billah">Ù„Ø§ Ø­ÙˆÙ„ ÙˆÙ„Ø§ Ù‚ÙˆØ© Ø¥Ù„Ø§ Ø¨Ø§Ù„Ù„Ù‡</option>
                        <option value="Ø§Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡" data-ar="Ø§Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡" data-en="Astaghfirullah">Ø§Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡</option>
                    </select>
                </div>

                <!-- Ø§Ù„Ø²Ø± Ø§Ù„Ø¯Ø§Ø¦Ø±ÙŠ Ù…Ø¹ Ø§Ù„Ø¹Ø¯Ø§Ø¯ -->
                <div class="tasbih-circle-wrapper">
                    <button class="tasbih-btn" onclick="incrementCounter()">
                        <span class="tasbih-number" id="counter">0</span>
                    </button>
                </div>

                <!-- Ù…Ø¤Ø´Ø± Ø­Ø§Ù„Ø© Ø§Ù„ØµÙˆØª -->
                <div class="voice-indicator" id="voiceIndicator">
                    <span>ğŸ¤</span>
                    <span id="voiceStatus" data-ar="Ø§Ù„ØªØ³Ø¨ÙŠØ­ Ø§Ù„ØµÙˆØªÙŠ: Ù…Ø¹Ø·Ù„" data-en="Voice Tasbih: Disabled">Ø§Ù„ØªØ³Ø¨ÙŠØ­ Ø§Ù„ØµÙˆØªÙŠ: Ù…Ø¹Ø·Ù„</span>
                </div>

                <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… -->
                <div class="tasbih-controls">
                    <button class="control-btn" id="voiceBtn" onclick="toggleVoice()">
                        <span id="micIcon">ğŸ¤</span> <span data-ar="ØªÙØ¹ÙŠÙ„ Ø§Ù„ØµÙˆØª" data-en="Enable Voice">ØªÙØ¹ÙŠÙ„ Ø§Ù„ØµÙˆØª</span>
                    </button>
                    <button class="control-btn" onclick="resetCounter()">
                        <span>ğŸ”„</span> <span data-ar="ØªØµÙÙŠØ±" data-en="Reset">ØªØµÙÙŠØ±</span>
                    </button>
                </div>

                <!-- Ø¹Ø±Ø¶ Ø¢Ø®Ø± Ø°ÙƒØ± ØªÙ… ÙƒØ´ÙÙ‡ -->
                <div class="last-detected" id="lastDetected">
                    <span data-ar="Ø¢Ø®Ø± Ø°ÙƒØ± Ù…Ø³ØªÙ…Ø¹ Ø¥Ù„ÙŠÙ‡: (Ù„Ù… ÙŠØªÙ… Ø§Ù„ÙƒØ´Ù Ø¨Ø¹Ø¯)" data-en="Last detected: (Not yet detected)">Ø¢Ø®Ø± Ø°ÙƒØ± Ù…Ø³ØªÙ…Ø¹ Ø¥Ù„ÙŠÙ‡: (Ù„Ù… ÙŠØªÙ… Ø§Ù„ÙƒØ´Ù Ø¨Ø¹Ø¯)</span>
                </div>

                <!-- ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… -->
                <div style="margin-top: 20px; padding: 15px; background: rgba(76, 175, 80, 0.1); border-radius: 10px; font-size: 0.85em;">
                    <strong data-ar="ğŸ¯ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªØ³Ø¨ÙŠØ­ Ø§Ù„ØµÙˆØªÙŠ:" data-en="ğŸ¯ How to use Voice Tasbih:">ğŸ¯ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªØ³Ø¨ÙŠØ­ Ø§Ù„ØµÙˆØªÙŠ:</strong><br>
                    <span data-ar="1. Ø§Ø¶ØºØ· ØªÙØ¹ÙŠÙ„ Ø§Ù„ØµÙˆØª 2. Ø§Ø®ØªØ§Ø± Ø§Ù„Ø°ÙƒØ± 3. Ù†Ø·Ù‚Ù‡ Ø¨ÙˆØ¶ÙˆØ­" data-en="1. Enable Voice 2. Select Dhikr 3. Say it clearly">1. Ø§Ø¶ØºØ· ØªÙØ¹ÙŠÙ„ Ø§Ù„ØµÙˆØª 2. Ø§Ø®ØªØ§Ø± Ø§Ù„Ø°ÙƒØ± 3. Ù†Ø·Ù‚Ù‡ Ø¨ÙˆØ¶ÙˆØ­</span>
                </div>
            </div>
        </div>

        <!-- Ù‚Ø³Ù… Ø£Ø°ÙƒØ§Ø±ÙŠ -->
        <div id="my-azkar-section" class="content-section">
            <div class="my-azkar-container">
                <div class="my-azkar-header">
                    <h2 data-ar="ğŸ“– Ø£Ø°ÙƒØ§Ø±ÙŠ" data-en="ğŸ“– My Azkar">ğŸ“– Ø£Ø°ÙƒØ§Ø±ÙŠ</h2>
                    <p data-ar="Ø³Ø¬Ù„ Ø£Ø°ÙƒØ§Ø±Ùƒ Ø§Ù„Ø®Ø§ØµØ© ÙˆØ§Ø±Ø¬Ø¹ Ù„Ù‡Ø§ ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª" data-en="Save your personal azkar and access them anytime">Ø³Ø¬Ù„ Ø£Ø°ÙƒØ§Ø±Ùƒ Ø§Ù„Ø®Ø§ØµØ© ÙˆØ§Ø±Ø¬Ø¹ Ù„Ù‡Ø§ ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª</p>
                </div>

                <!-- Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¶Ø§ÙØ© Ø°ÙƒØ± Ø¬Ø¯ÙŠØ¯ -->
                <div class="add-zekr-form">
                    <div class="form-group">
                        <label data-ar="Ø§Ù„Ø°ÙƒØ±:" data-en="Dhikr:">Ø§Ù„Ø°ÙƒØ±:</label>
                        <textarea id="zekrText" rows="3" placeholder="Ø£ÙƒØªØ¨ Ø°ÙƒØ±Ùƒ Ù‡Ù†Ø§..." data-ar-placeholder="Ø£ÙƒØªØ¨ Ø°ÙƒØ±Ùƒ Ù‡Ù†Ø§..." data-en-placeholder="Write your dhikr here..."></textarea>
                    </div>
                    <div class="form-group">
                        <label data-ar="Ù…ØµØ¯Ø±/Ù…Ù„Ø§Ø­Ø¸Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):" data-en="Source/Note (optional):">Ù…ØµØ¯Ø±/Ù…Ù„Ø§Ø­Ø¸Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):</label>
                        <input type="text" id="zekrInfo" placeholder="Ù…Ø«Ø§Ù„: Ø±ÙˆØ§Ù‡ Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ" data-ar-placeholder="Ù…Ø«Ø§Ù„: Ø±ÙˆØ§Ù‡ Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ" data-en-placeholder="Eg: Narrated by Bukhari">
                    </div>
                    <button class="add-btn" onclick="addZekr()">
                        <span data-ar="â• Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø°ÙƒØ±" data-en="â• Add Dhikr">â• Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø°ÙƒØ±</span>
                    </button>
                </div>

                <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø°ÙƒØ§Ø± -->
                <div class="my-azkar-list" id="myAzkarList">
                    <div class="empty-message" data-ar="Ù„Ù… ØªØ¶Ù Ø£ÙŠ Ø£Ø°ÙƒØ§Ø± Ø¨Ø¹Ø¯. Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†!" data-en="No azkar added yet. Start now!">Ù„Ù… ØªØ¶Ù Ø£ÙŠ Ø£Ø°ÙƒØ§Ø± Ø¨Ø¹Ø¯. Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†!</div>
                </div>
            </div>
        </div>

        <!-- Ù‚Ø³Ù… Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª -->
        <div id="settings-section" class="content-section">
            <div class="tasbih-container">
                <h2 data-ar="âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª" data-en="âš™ï¸ Settings">âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h2>
                
                <div class="add-zekr-form">
                    <div class="form-group">
                        <label data-ar="Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¸Ù„Ù…:" data-en="Dark Mode:">Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¸Ù„Ù…:</label>
                        <button class="control-btn" onclick="toggleTheme()">
                            <span data-ar="ğŸŒ™ ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹" data-en="ğŸŒ™ Toggle Theme">ğŸŒ™ ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹</span>
                        </button>
                    </div>
                    
                    <div class="form-group">
                        <label data-ar="Ø§Ù„Ù„ØºØ©:" data-en="Language:">Ø§Ù„Ù„ØºØ©:</label>
                        <button class="control-btn" onclick="toggleLanguage()">
                            <span data-ar="ğŸ‡ºğŸ‡¸ ØªØºÙŠÙŠØ± Ø§Ù„Ù„ØºØ©" data-en="ğŸ‡¸ğŸ‡¦ Change Language">ğŸ‡ºğŸ‡¸ ØªØºÙŠÙŠØ± Ø§Ù„Ù„ØºØ©</span>
                        </button>
                    </div>
                    
                    <div class="form-group">
                        <label data-ar="ØªØµÙÙŠØ± Ø§Ù„Ø¹Ø¯Ø§Ø¯:" data-en="Reset Counter:">ØªØµÙÙŠØ± Ø§Ù„Ø¹Ø¯Ø§Ø¯:</label>
                        <button class="control-btn danger" onclick="resetCounter()">
                            <span data-ar="ğŸ”„ ØªØµÙÙŠØ±" data-en="ğŸ”„ Reset">ğŸ”„ ØªØµÙÙŠØ±</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø³ÙÙ„ÙŠ -->
    <nav class="bottom-nav">
        <button class="nav-item active" onclick="showSection('tasbih')">
            <span>ğŸ“¿</span>
            <span data-ar="Ø§Ù„Ù…Ø³Ø¨Ø­Ø©" data-en="Tasbih">Ø§Ù„Ù…Ø³Ø¨Ø­Ø©</span>
        </button>
        <button class="nav-item" onclick="showSection('my-azkar')">
            <span>ğŸ“–</span>
            <span data-ar="Ø£Ø°ÙƒØ§Ø±ÙŠ" data-en="My Azkar">Ø£Ø°ÙƒØ§Ø±ÙŠ</span>
        </button>
        <button class="nav-item" onclick="showSection('settings')">
            <span>âš™ï¸</span>
            <span data-ar="Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª" data-en="Settings">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</span>
        </button>
    </nav>

    <script>
        // =================================================================
        // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        // =================================================================
        let counter = 0;
        let voiceEnabled = false;
        let recognition = null;
        let isDarkMode = false;
        let currentLang = 'ar';
        let currentTasbih = "Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡";

        // =================================================================
        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        // =================================================================
        document.addEventListener('DOMContentLoaded', function() {
            initializeVoiceRecognition();
            loadSettings();
            loadMyAzkar();
        });

        function initializeVoiceRecognition() {
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            
            if (!SpeechRecognition) {
                console.warn("Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØª ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ… ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù…ØªØµÙØ­");
                const voiceBtn = document.getElementById('voiceBtn');
                if (voiceBtn) {
                    voiceBtn.disabled = true;
                    document.getElementById('voiceStatus').textContent = getText('Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØª', 'Browser does not support speech recognition');
                }
                return;
            }

            recognition = new SpeechRecognition();
            recognition.continuous = true;
            recognition.lang = 'ar-SA';
            recognition.interimResults = false;
            recognition.maxAlternatives = 1;
            
            recognition.onresult = handleVoiceResult;
            recognition.onerror = handleVoiceError;
            recognition.onend = handleVoiceEnd;
        }

        function getText(arText, enText) {
            return currentLang === 'ar' ? arText : enText;
        }

        function updateLanguage() {
            document.querySelectorAll('[data-ar][data-en]').forEach(element => {
                element.textContent = currentLang === 'ar' ? element.dataset.ar : element.dataset.en;
            });
            
            // ØªØ­Ø¯ÙŠØ« placeholder
            document.querySelectorAll('input, textarea').forEach(element => {
                if (element.dataset.arPlaceholder && element.dataset.enPlaceholder) {
                    element.placeholder = currentLang === 'ar' ? element.dataset.arPlaceholder : element.dataset.enPlaceholder;
                }
            });

            // ØªØ­Ø¯ÙŠØ« direction
            if (currentLang === 'ar') {
                document.body.setAttribute('dir', 'rtl');
                document.body.classList.remove('english');
            } else {
                document.body.setAttribute('dir', 'ltr');
                document.body.classList.add('english');
            }
        }

        function loadSettings() {
            const savedLang = localStorage.getItem('appLang');
            if (savedLang) {
                currentLang = savedLang;
                updateLanguage();
                document.querySelector('.language-toggle').innerHTML = currentLang === 'ar' ? 'ğŸ‡ºğŸ‡¸ EN' : 'ğŸ‡¸ğŸ‡¦ AR';
            }

            const savedDarkMode = localStorage.getItem('darkMode') === 'true';
            if (savedDarkMode) {
                toggleTheme();
            }
            
            const savedCounter = localStorage.getItem('tasbihCounter');
            if (savedCounter) {
                counter = parseInt(savedCounter);
                document.getElementById('counter').textContent = counter;
            }
        }

        // =================================================================
        // Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø¨Ø­Ø©
        // =================================================================
        function incrementCounter() {
            counter++;
            updateCounterDisplay();
            saveCounter();
            animateButton();
        }

        function updateCounterDisplay() {
            const counterEl = document.getElementById('counter');
            counterEl.textContent = counter;
            
            counterEl.style.transform = 'scale(1.1)';
            setTimeout(() => {
                counterEl.style.transform = 'scale(1)';
            }, 100);
            
            if (counter % 33 === 0) {
                counterEl.style.color = '#FF6B6B';
                setTimeout(() => {
                    counterEl.style.color = '#4CAF50';
                }, 500);
            }
        }

        function animateButton() {
            const btn = document.querySelector('.tasbih-btn');
            btn.style.background = 'var(--secondary-color)';
            setTimeout(() => {
                btn.style.background = 'var(--primary-color)';
            }, 200);
        }

        function resetCounter() {
            counter = 0;
            document.getElementById('counter').textContent = counter;
            saveCounter();
        }

        function saveCounter() {
            localStorage.setItem('tasbihCounter', counter);
        }

        function updateCurrentTasbih() {
            const select = document.getElementById('tasbihSelect');
            currentTasbih = select.value;
            document.getElementById('lastDetected').textContent = getText('Ø¢Ø®Ø± Ø°ÙƒØ± Ù…Ø³ØªÙ…Ø¹ Ø¥Ù„ÙŠÙ‡: (Ù„Ù… ÙŠØªÙ… Ø§Ù„ÙƒØ´Ù Ø¨Ø¹Ø¯)', 'Last detected: (Not yet detected)');
        }

        // =================================================================
        // Ø¯ÙˆØ§Ù„ Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ø§Ù„ØµÙˆØª
        // =================================================================
        function toggleVoice() {
            if (!recognition) {
                alert(getText('Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØª ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ… ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù…ØªØµÙØ­', 'Speech recognition is not supported in this browser'));
                return;
            }
            
            voiceEnabled = !voiceEnabled;
            const voiceBtn = document.getElementById('voiceBtn');
            const voiceIndicator = document.getElementById('voiceIndicator');
            const voiceStatus = document.getElementById('voiceStatus');
            
            if (voiceEnabled) {
                try {
                    recognition.start();
                    voiceBtn.innerHTML = `<span id="micIcon">â¹ï¸</span> <span>${getText('Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ØµÙˆØª', 'Disable Voice')}</span>`;
                    voiceBtn.classList.add('danger');
                    voiceIndicator.classList.add('listening');
                    voiceStatus.textContent = getText('Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹... Ù‚Ù„ Ø§Ù„Ø°ÙƒØ± Ø§Ù„Ù…Ø®ØªØ§Ø± Ø¨ÙˆØ¶ÙˆØ­', 'Listening... say the selected dhikr clearly');
                    document.getElementById('lastDetected').textContent = getText('Ø¢Ø®Ø± Ø°ÙƒØ± Ù…Ø³ØªÙ…Ø¹ Ø¥Ù„ÙŠÙ‡: (ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„ÙƒØ´Ù...)', 'Last detected: (Waiting for detection...)');
                } catch (e) {
                    console.error('Error starting recognition:', e);
                    voiceEnabled = false;
                }
            } else {
                recognition.stop();
                voiceBtn.innerHTML = `<span id="micIcon">ğŸ¤</span> <span>${getText('ØªÙØ¹ÙŠÙ„ Ø§Ù„ØµÙˆØª', 'Enable Voice')}</span>`;
                voiceBtn.classList.remove('danger');
                voiceIndicator.classList.remove('listening');
                voiceStatus.textContent = getText('Ø§Ù„ØªØ³Ø¨ÙŠØ­ Ø§Ù„ØµÙˆØªÙŠ: Ù…Ø¹Ø·Ù„', 'Voice Tasbih: Disabled');
                document.getElementById('lastDetected').textContent = getText('Ø¢Ø®Ø± Ø°ÙƒØ± Ù…Ø³ØªÙ…Ø¹ Ø¥Ù„ÙŠÙ‡: (Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ù…ØªÙˆÙ‚Ù)', 'Last detected: (Recording stopped)');
            }
        }

        function handleVoiceResult(event) {
            const lastResult = event.results[event.results.length - 1];
            if (lastResult.isFinal) {
                const transcript = lastResult[0].transcript.trim();
                processVoiceCommand(transcript);
            }
        }

        function processVoiceCommand(transcript) {
            document.getElementById('lastDetected').textContent = `${getText('Ø¢Ø®Ø± Ø°ÙƒØ± Ù…Ø³ØªÙ…Ø¹ Ø¥Ù„ÙŠÙ‡:', 'Last detected:')} "${transcript}"`;
            
            const tasbihKeywords = {
                'Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡': ['Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡', 'Ø³Ø¨Ø­Ø§Ù†Ù„Ù„Ù‡', 'Ø³Ø¨Ø­Ø§Ù†', 'Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ø¸ÙŠÙ…', 'Ø³Ø¨Ø­Ø§Ù†Ø§Ù„Ù„Ù‡'],
                'Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡': ['Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡', 'Ø§Ù„Ø­Ù…Ø¯Ù„Ù„Ù‡', 'Ø§Ù„Ø­Ù…Ø¯', 'Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ Ø±Ø¨ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠÙ†', 'Ø§Ù„Ø­Ù…Ø¯Ù„Ù„Ù‡'],
                'Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡': ['Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡', 'Ù„Ø§ Ø§Ù„Ù‡ Ø§Ù„Ø§ Ø§Ù„Ù„Ù‡', 'Ù„Ø§ Ø¥Ù„Ù‡', 'Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ ÙˆØ­Ø¯Ù‡'],
                'Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø±': ['Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø±', 'Ø§Ù„Ù„Ù‡ Ø§ÙƒØ¨Ø±', 'Ø£ÙƒØ¨Ø±', 'Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø± ÙˆÙ„Ù„Ù‡ Ø§Ù„Ø­Ù…Ø¯', 'Ø§Ù„Ù„Ù‡'],
                'Ù„Ø§ Ø­ÙˆÙ„ ÙˆÙ„Ø§ Ù‚ÙˆØ© Ø¥Ù„Ø§ Ø¨Ø§Ù„Ù„Ù‡': ['Ù„Ø§ Ø­ÙˆÙ„', 'Ù„Ø§ Ù‚ÙˆØ©', 'Ø­ÙˆÙ„', 'Ù‚ÙˆØ©', 'Ù„Ø§ Ø­ÙˆÙ„ ÙˆÙ„Ø§ Ù‚ÙˆØ©'],
                'Ø§Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡': ['Ø§Ø³ØªØºÙØ±', 'Ø£Ø³ØªØºÙØ±', 'Ø§Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡', 'Ø§Ù„Ù„Ù‡Ù… Ø§Ø³ØªØºÙØ±', 'Ø£Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡']
            };
            
            const selectedKeywords = tasbihKeywords[currentTasbih];
            const isMatch = selectedKeywords.some(keyword => 
                transcript.toLowerCase().includes(keyword.toLowerCase())
            );
            
            if (isMatch) {
                incrementCounter();
                flashSuccess();
            }
        }

        function flashSuccess() {
            const indicator = document.getElementById('voiceIndicator');
            indicator.style.background = 'rgba(76, 175, 80, 0.5)';
            setTimeout(() => {
                indicator.style.background = '';
            }, 300);
        }

        function handleVoiceError(event) {
            console.error('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØª:', event.error);
            voiceEnabled = false;
            toggleVoice();
            
            let errorMessage = getText('âŒ Ø­Ø¯Ø« Ø®Ø·Ø£:', 'âŒ Error:');
            switch(event.error) {
                case 'no-speech':
                    errorMessage += getText(' Ù„Ù… ÙŠØªÙ… Ø§Ù„ÙƒØ´Ù Ø¹Ù† ØµÙˆØª', ' No speech detected');
                    break;
                case 'audio-capture':
                    errorMessage += getText(' Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ†', ' Cannot access microphone');
                    break;
                case 'not-allowed':
                    errorMessage += getText(' ØªÙ… Ø±ÙØ¶ Ø¥Ø°Ù† Ø§Ù„Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ†', ' Microphone permission denied');
                    break;
                case 'network':
                    errorMessage += getText(' Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„', ' Network error');
                    break;
                default:
                    errorMessage += ' ' + event.error;
            }
            
            document.getElementById('voiceStatus').textContent = errorMessage;
            document.getElementById('lastDetected').textContent = getText('Ø¢Ø®Ø± Ø°ÙƒØ± Ù…Ø³ØªÙ…Ø¹ Ø¥Ù„ÙŠÙ‡: (Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ³Ø¬ÙŠÙ„)', 'Last detected: (Recording error)');
        }

        function handleVoiceEnd() {
            if (voiceEnabled) {
                setTimeout(() => {
                    try {
                        recognition.start();
                    } catch (e) {
                        console.error('Error restarting recognition:', e);
                    }
                }, 100);
            }
        }

        // =================================================================
        // Ø¯ÙˆØ§Ù„ Ø§Ù„ØªÙ†Ù‚Ù„
        // =================================================================
        function showSection(sectionName) {
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            if (sectionName === 'tasbih') {
                document.getElementById('tasbih-section').classList.add('active');
                document.querySelector('.nav-item:nth-child(1)').classList.add('active');
                if (voiceEnabled) {
                    toggleVoice(); // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ØµÙˆØª Ø¹Ù†Ø¯ Ø§Ù„Ø®Ø±ÙˆØ¬
                }
            } else if (sectionName === 'my-azkar') {
                document.getElementById('my-azkar-section').classList.add('active');
                document.querySelector('.nav-item:nth-child(2)').classList.add('active');
                if (voiceEnabled) {
                    toggleVoice(); // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ØµÙˆØª Ø¹Ù†Ø¯ Ø§Ù„Ø®Ø±ÙˆØ¬
                }
                loadMyAzkar();
            } else if (sectionName === 'settings') {
                document.getElementById('settings-section').classList.add('active');
                document.querySelector('.nav-item:nth-child(3)').classList.add('active');
                if (voiceEnabled) {
                    toggleVoice(); // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ØµÙˆØª Ø¹Ù†Ø¯ Ø§Ù„Ø®Ø±ÙˆØ¬
                }
            }
        }

        // =================================================================
        // Ø¯ÙˆØ§Ù„ Ø£Ø°ÙƒØ§Ø±ÙŠ
        // =================================================================
        function addZekr() {
            const text = document.getElementById('zekrText').value.trim();
            const info = document.getElementById('zekrInfo').value.trim();
            
            if (!text) {
                alert(getText('âŒ ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø°ÙƒØ± Ø£ÙˆÙ„Ø§Ù‹!', 'âŒ Please write the dhikr first!'));
                return;
            }

            const zekr = {
                id: Date.now(),
                text: text,
                info: info,
                date: new Date().toLocaleDateString(currentLang === 'ar' ? 'ar-SA' : 'en-US')
            };

            let myAzkar = JSON.parse(localStorage.getItem('myAzkar') || '[]');
            myAzkar.unshift(zekr);
            localStorage.setItem('myAzkar', JSON.stringify(myAzkar));

            document.getElementById('zekrText').value = '';
            document.getElementById('zekrInfo').value = '';

            loadMyAzkar();
            alert(getText('âœ… ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø°ÙƒØ± Ø¨Ù†Ø¬Ø§Ø­!', 'âœ… Dhikr added successfully!'));
        }

        function loadMyAzkar() {
            const myAzkar = JSON.parse(localStorage.getItem('myAzkar') || '[]');
            const listContainer = document.getElementById('myAzkarList');
            
            if (myAzkar.length === 0) {
                listContainer.innerHTML = `<div class="empty-message">${getText('Ù„Ù… ØªØ¶Ù Ø£ÙŠ Ø£Ø°ÙƒØ§Ø± Ø¨Ø¹Ø¯. Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†!', 'No azkar added yet. Start now!')}</div>`;
                return;
            }

            listContainer.innerHTML = myAzkar.map(zekr => `
                <div class="zekr-item">
                    <div class="zekr-text">${zekr.text}</div>
                    <div class="zekr-date">${zekr.info ? zekr.info + ' - ' : ''}${zekr.date}</div>
                    <button class="delete-btn" onclick="deleteZekr(${zekr.id})">${getText('Ø­Ø°Ù', 'Delete')}</button>
                </div>
            `).join('');
        }

        function deleteZekr(id) {
            if (confirm(getText('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø°ÙƒØ±ØŸ', 'Are you sure you want to delete this dhikr?'))) {
                let myAzkar = JSON.parse(localStorage.getItem('myAzkar') || '[]');
                myAzkar = myAzkar.filter(zekr => zekr.id !== id);
                localStorage.setItem('myAzkar', JSON.stringify(myAzkar));
                loadMyAzkar();
                alert(getText('âœ… ØªÙ… Ø§Ù„Ø­Ø°Ù', 'âœ… Deleted'));
            }
        }

        // =================================================================
        // Ø¯ÙˆØ§Ù„ Ø¹Ø§Ù…Ø©
        // =================================================================
        function toggleTheme() {
            isDarkMode = !isDarkMode;
            document.body.classList.toggle('dark-mode');
            localStorage.setItem('darkMode', isDarkMode);
        }

        function toggleLanguage() {
            currentLang = currentLang === 'ar' ? 'en' : 'ar';
            updateLanguage();
            localStorage.setItem('appLang', currentLang);
            document.querySelector('.language-toggle').innerHTML = currentLang === 'ar' ? 'ğŸ‡ºğŸ‡¸ EN' : 'ğŸ‡¸ğŸ‡¦ AR';
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø£Ø°ÙƒØ§Ø±ÙŠ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…ÙØªÙˆØ­Ø©
            if (document.getElementById('my-azkar-section').classList.contains('active')) {
                loadMyAzkar();
            }
        }

        // Ø¯Ø¹Ù… Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­
        document.addEventListener('keydown', function(event) {
            if (document.getElementById('tasbih-section').classList.contains('active')) {
                switch(event.code) {
                    case 'Space':
                        event.preventDefault();
                        incrementCounter();
                        break;
                    case 'KeyR':
                        resetCounter();
                        break;
                    case 'KeyV':
                        toggleVoice();
                        break;
                }
            }
        });

        // Ù…Ù†Ø¹ Ø§Ù‡ØªØ²Ø§Ø² Ø§Ù„Ø¬ÙˆØ§Ù„ Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ·
        document.addEventListener('touchstart', function(e) {
            if (e.target.classList.contains('tasbih-btn')) {
                e.preventDefault();
            }
        });
    </script>
</body>
</html>
